<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Bai13_2.css">
    <title>Bài 13_2</title>
</head>
<body>
    <form action="" id="form-valid">
        <h1>Đăng Ký</h1>
        <div id="form-group">
            <label for="name" class="form-label">Họ và tên: </label>
            <input type="text" name="name" id="name" placeholder="Nhập vào họ và tên">
            <span class="form-mess" id="name-error"></span>
        </div>
        <div id="form-group">
            <label for="" class="form-label">Giới tính: </label>
            <input type="radio" name="sex" id="sex-male">
            <label for="sex-male" name="sex-male">Nam</label>
            <input type="radio" name="sex" id="sex-female">
            <label for="sex-female" name="sex-female">Nữ</label>
            <span class="form-mess" id="sex-error"></span>
        </div>
        <div id="form-group">
            <label for="email" class="form-label">Email: </label>
            <input type="email" name="email" id="email" placeholder="Nhập vào email">
            <span class="form-mess" id="email-error"></span>
        </div>
        <div id="form-group">
            <label for="sdt" class="form-label">Số điện thoại: </label>
            <input type="tel" name="sdt" id="sdt" placeholder="Nhập vào số điện thoại">
            <span class="form-mess" id="sdt-error"></span>
        </div>
        <div id="form-group">
            <label for="pass" class="form-label">Mật khẩu: </label>
            <input type="password" name="password" id="password" placeholder="Nhập vào mật khẩu">
            <span class="form-mess" id="password-error"></span>
        </div>
        <div id="form-group">
            <label for="pass_cf" class="form-label">Nhập lại mật khẩu: </label>
            <input type="password" name="pass_cf" id="pass_cf" placeholder="Xác nhận mật khẩu">
            <span class="form-mess" id="pass_cf-error"></span>
        </div>
        <div class="button-form">
        <button class="form-subbmit">Đăng ký</button> <button class="clear">Xóa trắng</button>
        </div>
    </form>

      <script>
        document.getElementById("form-valid").addEventListener("submit", function (event) {
            event.preventDefault();

            // Lấy các trường dữ liệu
            const nameInput = document.getElementById("name");
            const sexMaleInput = document.getElementById("sex-male");
            const sexFemaleInput = document.getElementById("sex-female");
            const emailInput = document.getElementById("email");
            const sdtInput = document.getElementById("sdt");
            const passwordInput = document.getElementById("password");
            const passCfInput = document.getElementById("pass_cf");

            // Lấy các thông báo lỗi
            const nameError = document.getElementById("name-error");
            const sexError = document.getElementById("sex-error");
            const emailError = document.getElementById("email-error");
            const sdtError = document.getElementById("sdt-error");
            const passwordError = document.getElementById("password-error");
            const passCfError = document.getElementById("pass_cf-error");

            // Biến để kiểm tra xem có lỗi nào không
            let hasError = false;

            // Kiểm tra và hiển thị thông báo lỗi
            if (nameInput.value.trim() === "") {
                nameError.textContent = "Vui lòng nhập họ và tên";
                hasError = true;
            } else if (nameInput.value.trim().length < 8) {
                nameError.textContent = "Họ tên phải lớn hơn 8 ký tự";
                hasError = true;
            } else {
                nameError.textContent = "";
            }

            if (!sexMaleInput.checked && !sexFemaleInput.checked) {
                sexError.textContent = "Vui lòng chọn giới tính";
                hasError = true;
            } else {
                sexError.textContent = "";
            }

            const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (!emailPattern.test(emailInput.value.trim())) {
                emailError.textContent = "Email không hợp lệ";
                hasError = true;
            } else {
                emailError.textContent = "";
            }

            const sdtPattern = /^[0-9]+$/;
            if (!sdtPattern.test(sdtInput.value.trim())) {
                sdtError.textContent = "Số điện thoại phải là số";
                hasError = true;
            } else {
                sdtError.textContent = "";
            }

            if (passwordInput.value.trim() === "") {
                passwordError.textContent = "Vui lòng nhập mật khẩu";
                hasError = true;
            } else {
                passwordError.textContent = "";
            }

            if (passwordInput.value.trim() !== passCfInput.value.trim()) {
                passCfError.textContent = "Mật khẩu không khớp";
                hasError = true;
            } else {
                passCfError.textContent = "";
            }

            // Nếu có lỗi, không hiển thị thông báo thành công
            if (!hasError) {
                alert("Đăng ký thành công!");
            }
        });

        // Xóa trắng các trường input khi nhấn nút "Xóa trắng" dựa trên class "clear"
        document.querySelector(".clear").addEventListener("click", function (event) {
            event.preventDefault();

            // Xóa trắng các trường input
            document.getElementById("name").value = "";
            document.getElementById("sex-male").checked = false;
            document.getElementById("sex-female").checked = false;
            document.getElementById("email").value = "";
            document.getElementById("sdt").value = "";
            document.getElementById("password").value = "";
            document.getElementById("pass_cf").value = "";

            // Xóa cả thông báo lỗi
            document.getElementById("name-error").textContent = "";
            document.getElementById("sex-error").textContent = "";
            document.getElementById("email-error").textContent = "";
            document.getElementById("sdt-error").textContent = "";
            document.getElementById("password-error").textContent = "";
            document.getElementById("pass_cf-error").textContent = "";
        });
    </script>
</body>
</html>